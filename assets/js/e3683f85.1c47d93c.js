"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[8850],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>h});var n=a(67294);function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}var i=n.createContext({}),l=function(e){var t=n.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},u=function(e){var t=l(e.components);return n.createElement(i.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,s=e.mdxType,o=e.originalType,i=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),d=l(a),m=s,h=d["".concat(i,".").concat(m)]||d[m]||p[m]||o;return a?n.createElement(h,r(r({ref:t},u),{},{components:a})):n.createElement(h,r({ref:t},u))}));function h(e,t){var a=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var o=a.length,r=new Array(o);r[0]=m;var c={};for(var i in t)hasOwnProperty.call(t,i)&&(c[i]=t[i]);c.originalType=e,c[d]="string"==typeof e?e:s,r[1]=c;for(var l=2;l<o;l++)r[l]=a[l];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},75021:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>i,contentTitle:()=>r,default:()=>p,frontMatter:()=>o,metadata:()=>c,toc:()=>l});var n=a(87462),s=(a(67294),a(3905));const o={title:"Additional Examples"},r="Additional Examples",c={unversionedId:"resources/advanced/multi-sig/other-scenarios",id:"resources/advanced/multi-sig/other-scenarios",title:"Additional Examples",description:"This section presents examples of single and multi-signature schemes, where accounts have multiple associated keys and thresholds for signing transactions.",source:"@site/source/docs/resources/advanced/multi-sig/other-scenarios.md",sourceDirName:"resources/advanced/multi-sig",slug:"/resources/advanced/multi-sig/other-scenarios",permalink:"/next/resources/advanced/multi-sig/other-scenarios",draft:!1,editUrl:"https://github.com/casper-network/docs/tree/dev/source/docs/resources/advanced/multi-sig/other-scenarios.md",tags:[],version:"current",lastUpdatedAt:1719861245,formattedLastUpdatedAt:"Jul 1, 2024",frontMatter:{title:"Additional Examples"},sidebar:"resources",previous:{title:"Multi-Sig Workflow",permalink:"/next/resources/advanced/multi-sig/multi-sig-workflow"},next:{title:"Runtime Return Values",permalink:"/next/resources/tutorials/advanced/return-values-tutorial"}},i={},l=[{value:"Example 1: An account with a single (primary) key",id:"example-1-an-account-with-a-single-primary-key",level:3},{value:"Example 2: An account with primary and associated keys",id:"example-2-an-account-with-primary-and-associated-keys",level:3},{value:"Example 3: Multi-sig setup for deploys and account updates",id:"example-3-multi-sig-setup-for-deploys-and-account-updates",level:3},{value:"Example 4: Signing deploys but restricting account updates",id:"example-4-signing-deploys-but-restricting-account-updates",level:3},{value:"Example 5: Recovering a lost primary key",id:"example-5-recovering-a-lost-primary-key",level:3}],u={toc:l},d="wrapper";function p(e){let{components:t,...a}=e;return(0,s.kt)(d,(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"additional-examples"},"Additional Examples"),(0,s.kt)("p",null,"This section presents examples of single and multi-signature schemes, where accounts have multiple associated keys and thresholds for signing transactions."),(0,s.kt)("h3",{id:"example-1-an-account-with-a-single-primary-key"},"Example 1: An account with a single (primary) key"),(0,s.kt)("p",null,"In this example, only one key (",(0,s.kt)("inlineCode",{parentName:"p"},"account-hash-a1\u2026"),") can sign transactions in the name of this account. This key is the primary key of the account and has a ",(0,s.kt)("inlineCode",{parentName:"p"},"weight")," equal to 1. For deployments or key management, the weight required is also 1. Therefore, the key meets the deployment and key management thresholds and can perform both actions."),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Account details in example 1:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-json"},'"Account": {\n   "account_address": "account-hash-a1\u2026",\n      "action_thresholds": {\n         "deployment": 1,\n         "key_management": 1\n   },\n   "associated_keys": [\n      {\n         "account_address": "account-hash-a1\u2026", // primary key\n         "weight": 1\n      }\n   ],\n   "main_purse": "uref-1234\u2026",\n   "named_keys": []\n}\n')),(0,s.kt)("h3",{id:"example-2-an-account-with-primary-and-associated-keys"},"Example 2: An account with primary and associated keys"),(0,s.kt)("p",null,"In this example, the account has a primary key with weight 2 and an associated key with a lower weight for signing deploys. The primary key can perform account updates and deploys, while the associated key can only sign deploys."),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Account details in example 2:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-json"},'"Account": {\n   "account_address": "account-hash-a1\u2026",\n   "action_thresholds": {\n         "deployment": 1,\n         "key_management": 2\n   },\n   "associated_keys": [\n      {\n         "account_address": "account-hash-a1\u2026", // primary key for key management\n         "weight": 2\n      },\n      {\n         "account_address": "account-hash-b2\u2026", // associated key used for deploys\n         "weight": 1\n      }\n   ],\n   "main_purse": "uref-1234\u2026",\n   "named_keys": []\n}\n')),(0,s.kt)("h3",{id:"example-3-multi-sig-setup-for-deploys-and-account-updates"},"Example 3: Multi-sig setup for deploys and account updates"),(0,s.kt)("p",null,"The following account has associated keys that can manage the account and send deploys independently of the primary key. The two associated keys have a cumulative weight of 2, which meets the deployment and key management thresholds. Both keys must sign the deploy to make updates."),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Account details in example 3:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-json"},'"Account": {\n   "account_address": "account-hash-a1\u2026",\n   "action_thresholds": {\n      "deployment": 2,\n      "key_management": 2\n   },\n   "associated_keys": [\n      {\n         "account_address": "account-hash-a1\u2026", // primary key\n         "weight": 2\n      },\n      {\n         "account_address": "account-hash-b2\u2026", // associated key\n         "weight": 1\n      },\n      {\n         "account_address": "account-hash-c3\u2026", // associated key\n         "weight": 1\n      }\n   ],\n   "main_purse": "uref-1234\u2026",\n   "named_keys": []\n}\n')),(0,s.kt)("h3",{id:"example-4-signing-deploys-but-restricting-account-updates"},"Example 4: Signing deploys but restricting account updates"),(0,s.kt)("p",null,"This scenario builds on the previous example. The account has a primary key with a weight of 3, equal to the key management threshold, and two associated keys with a cumulative weight of 2, for signing deploys. The associated keys can sign deploys but not make account updates because they do not meet the key management threshold. Only the primary key can update the account. If the primary key is lost or compromised, the entire account becomes compromised because the associated keys do not have enough cumulative weight to remove the compromised key."),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Account details in example 4:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-json"},'"Account": {\n   "account_address": "account-hash-a1\u2026",\n   "action_thresholds": {\n      "deployment": 2,\n      "key_management": 3\n   },\n   "associated_keys": [\n      {\n         "account_address": "account-hash-a1\u2026", // primary key\n         "weight": 3\n      },\n      {\n         "account_address": "account-hash-b2\u2026", // associated key\n         "weight": 1\n      },\n      {\n         "account_address": "account-hash-c3\u2026", // associated key\n         "weight": 1\n      }\n   ],\n   "main_purse": "uref-1234\u2026",\n   "named_keys": []\n}\n')),(0,s.kt)("h3",{id:"example-5-recovering-a-lost-primary-key"},"Example 5: Recovering a lost primary key"),(0,s.kt)("p",null,"This account has a primary key with a weight of 3, equal to the key management threshold, and three associated keys with a cumulative weight of 3. Two associated keys can combine their weight to sign deploys. All three associated keys can combine their weight to make account updates. If the primary key is lost or compromised, the associated keys can remove it and secure the account."),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Account details in example 5:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-json"},'"Account": {\n   "account_address": "account-hash-a1\u2026",\n   "action_thresholds": {\n      "deployment": 2,\n      "key_management": 3\n   },\n   "associated_keys": [\n      {\n         "account_address": "account-hash-a1\u2026", // primary key\n         "weight": 3\n      },\n      {\n         "account_address": "account-hash-b2\u2026", // associated key\n         "weight": 1\n      },\n      {\n         "account_address": "account-hash-c3\u2026", // associated key\n         "weight": 1\n      },\n      {\n         "account_address": "account-hash-d4\u2026", // associated key\n         "weight": 1\n      }\n   ],\n   "main_purse": "uref-1234\u2026",\n   "named_keys": []\n}\n')))}p.isMDXComponent=!0}}]);