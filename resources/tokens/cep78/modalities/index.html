<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-1.5.6 plugin-docs plugin-id-default docs-doc-id-resources/tokens/cep78/modalities">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">CEP-78 Modalities | Casper</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.casper.network/resources/tokens/cep78/modalities/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="1.5.6"><meta data-rh="true" name="docusaurus_tag" content="docs-default-1.5.6"><meta data-rh="true" name="docsearch:version" content="1.5.6"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-1.5.6"><meta data-rh="true" property="og:title" content="CEP-78 Modalities | Casper"><meta data-rh="true" name="description" content="The enhanced NFT implementation supports various &#x27;modalities&#x27; that dictate the behavior of a specific contract instance. Modalities represent the common expectations around contract usage and behavior."><meta data-rh="true" property="og:description" content="The enhanced NFT implementation supports various &#x27;modalities&#x27; that dictate the behavior of a specific contract instance. Modalities represent the common expectations around contract usage and behavior."><link data-rh="true" rel="icon" href="/icon/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.casper.network/resources/tokens/cep78/modalities/"><link data-rh="true" rel="alternate" href="https://docs.casper.network/resources/tokens/cep78/modalities/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.casper.network/resources/tokens/cep78/modalities/" hreflang="x-default"><script src="/js/loadtags.js" async type="module"></script><link rel="stylesheet" href="/assets/css/styles.ef154e1c.css">
<link rel="preload" href="/assets/js/runtime~main.16d56e33.js" as="script">
<link rel="preload" href="/assets/js/main.8988f197.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#1c1e21;color:#fff" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">This is a pre-release version of the Casper Docs v2.0. </div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top navBarWrapper_phG8"><div class="containerSite fullNavBarHeight__XV6"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle documentation navigation bar" aria-expanded="false" class="navbar__toggle clean-btn navbarMobileTitle_ZINc"><div class="navbarMobileTitle_container_Qxup">Documentation<svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.9822 2.57144H9.97778C9.90948 2.57144 9.84519 2.60492 9.80501 2.65983L6.0001 7.90448L2.19519 2.65983C2.15501 2.60492 2.09072 2.57144 2.02242 2.57144H1.01796C0.930903 2.57144 0.880011 2.67055 0.930903 2.74153L5.65322 9.2518C5.82465 9.48751 6.17555 9.48751 6.34564 9.2518L11.068 2.74153C11.1202 2.67055 11.0693 2.57144 10.9822 2.57144Z" fill="#F4F4F4"></path></svg></div></button><a class="navbar__item navbar__link" href="/concepts/">Concepts</a><a class="navbar__item navbar__link" href="/developers/">Developers</a><a class="navbar__item navbar__link" href="/operators/">Operators</a><a class="navbar__item navbar__link" href="/users/">Users</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/resources/">Resources</a></div><div class="navbar__items navbar__items--right"><a href="https://support.casperlabs.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://discord.com/invite/casperblockchain" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_H2mL"></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/">1.5.6</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/next/resources/tokens/cep78/modalities/">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/resources/tokens/cep78/modalities/">1.5.6</a></li></ul></div><a href="https://github.com/casper-network/docs/blob/dev/README.md" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div></div></div></nav><div role="presentation" class="navbar-sidebar__backdrop"></div><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_W2AM"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage_qMb8"><aside class="theme-doc-sidebar-container docSidebarContainer_NXUq" style="--dynamicNavBarSiteHeight:0px"><div class="sidebarViewport_P4AQ"><div class="sidebar_mhZE"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_Y1UP menuWithAnnouncementBar_fPny"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/resources/">Resources Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/resources/build-on-casper/introduction/">Build on Casper</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/resources/moving-to-casper/">Move to Casper</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/resources/tokens/">Casper Token Standards</a><button aria-label="Toggle the collapsible sidebar category &#x27;Casper Token Standards&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed text_transform_reset"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/resources/tokens/cep18/full-tutorial/">CEP-18 Fungible Token</a><button aria-label="Toggle the collapsible sidebar category &#x27;CEP-18 Fungible Token&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/resources/tokens/cep78/introduction/">CEP-78 Enhanced NFT Standard</a><button aria-label="Toggle the collapsible sidebar category &#x27;CEP-78 Enhanced NFT Standard&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/resources/tokens/cep78/modalities/">CEP-78 Modalities</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/resources/tokens/cep78/using-casper-client/quickstart-guide/">On-chain Installation</a><button aria-label="Toggle the collapsible sidebar category &#x27;On-chain Installation&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/resources/tokens/cep78/reverse-lookup/">Ownership Lookup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/resources/tokens/cep78/js-tutorial/">CEP-78 JavaScript Client</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/resources/build-on-casper/casper-open-source-software/">Open-Source Software</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/resources/quick-start/">Quickstart</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/resources/tutorials/beginner/">Beginner Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Beginner Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/resources/tutorials/advanced/">Advanced Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Advanced Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" tabindex="0" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_JQG6"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_Iseg"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_RiV8"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Alpn" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/resources/"><span itemprop="name">Resources</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/resources/tokens/"><span itemprop="name">Casper Token Standards</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/resources/tokens/cep78/introduction/"><span itemprop="name">CEP-78 Enhanced NFT Standard</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">CEP-78 Modalities</span><meta itemprop="position" content="4"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 1.5.6</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>CEP-78 Modalities</h1><p>The enhanced NFT implementation supports various &#x27;modalities&#x27; that dictate the behavior of a specific contract instance. Modalities represent the common expectations around contract usage and behavior.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ownership">Ownership<a href="#ownership" class="hash-link" aria-label="Direct link to Ownership" title="Direct link to Ownership">​</a></h2><p>This modality specifies the behavior regarding ownership of NFTs and whether the owner of the NFT can change over the contract&#x27;s lifetime. There are three modes:</p><ol><li><code>Minter</code>: <code>Minter</code> mode is where the ownership of the newly minted NFT is attributed to the minter of the NFT and cannot be specified by the minter. In the <code>Minter</code> mode the owner of the NFT will not change and thus cannot be transferred to another entity.</li><li><code>Assigned</code>: <code>Assigned</code> mode is where the owner of the newly minted NFT must be specified by the minter of the NFT. In this mode, the assigned entity can be either minter themselves or a separate entity. However, similar to the <code>Minter</code> mode, the ownership in this mode cannot be changed, and NFTs minted in this mode cannot be transferred from one entity to another.</li><li><code>Transferable</code>: In the <code>Transferable</code> mode the owner of the newly minted NFT must be specified by the minter. However, in the <code>Transferable</code> mode, NFTs can be transferred from the owner to another entity.</li></ol><p>In all the three mentioned modes, the owner entity is currently restricted to <code>Accounts</code> on the Casper network.</p><p><strong>Note</strong>: In the <code>Transferable</code> mode, it is possible to transfer the NFT to an <code>Account</code> that does not exist.</p><p>This <code>Ownership</code> mode is a required installation parameter and cannot be changed once the contract has been installed.
The mode is passed in as <code>u8</code> value to the <code>&quot;ownership_mode&quot;</code> runtime argument.</p><table><thead><tr><th>Ownership</th><th>u8</th></tr></thead><tbody><tr><td>Minter</td><td>0</td></tr><tr><td>Assigned</td><td>1</td></tr><tr><td>Transferable</td><td>2</td></tr></tbody></table><p>The ownership mode of a contract can be determined by querying the <code>ownership_mode</code> entry within the contract&#x27;s <code>NamedKeys</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nftkind">NFTKind<a href="#nftkind" class="hash-link" aria-label="Direct link to NFTKind" title="Direct link to NFTKind">​</a></h2><p>The <code>NFTKind</code> modality specifies the commodity that NFTs minted by a particular contract will represent. Currently, the <code>NFTKind</code> modality does not alter or govern the behavior of the contract itself
and only exists to specify the correlation between on-chain data and off-chain items. There are three different variations of the <code>NFTKind</code> mode.</p><ol><li><code>Physical</code>: The NFT represents a real-world physical item e.g., a house.</li><li><code>Digital</code>: The NFT represents a digital item, e.g., a unique JPEG or digital art.</li><li><code>Virtual</code>: The NFT is the virtual representation of a physical notion, e.g., a patent or copyright.</li></ol><p>The <code>NFTKind</code> mode is a required installation parameter and cannot be changed once the contract has been installed.
The mode is passed in as a <code>u8</code> value to <code>nft_kind</code> runtime argument.</p><table><thead><tr><th>NFTKind</th><th>u8</th></tr></thead><tbody><tr><td>Physical</td><td>0</td></tr><tr><td>Digital</td><td>1</td></tr><tr><td>Virtual</td><td>2</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nftholdermode">NFTHolderMode<a href="#nftholdermode" class="hash-link" aria-label="Direct link to NFTHolderMode" title="Direct link to NFTHolderMode">​</a></h2><p>The <code>NFTHolderMode</code> dictates which entities on a Casper network can own and mint NFTs. There are three different options currently available:</p><ol><li><code>Accounts</code>: In this mode, only <code>Accounts</code> can own and mint NFTs.</li><li><code>Contracts</code>: In this mode, only <code>Contracts</code> can own and mint NFTs.</li><li><code>Mixed</code>: In this mode both <code>Accounts</code> and <code>Contracts</code> can own and mint NFTs.</li></ol><p>If the <code>NFTHolderMode</code> is set to <code>Contracts</code> a <code>ContractHash</code> whitelist must be provided. This whitelist dictates which
<code>Contracts</code> are allowed to mint NFTs in the restricted <code>Installer</code> minting mode.</p><table><thead><tr><th>NFTHolderMode</th><th>u8</th></tr></thead><tbody><tr><td>Accounts</td><td>0</td></tr><tr><td>Contracts</td><td>1</td></tr><tr><td>Mixed</td><td>2</td></tr></tbody></table><p>This modality is an optional installation parameter and will default to the <code>Mixed</code> mode if not provided. However, this
mode cannot be changed once the contract has been installed.
The mode is passed in as a <code>u8</code> value to <code>nft_holder_mode</code> runtime argument.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="whitelistmode">WhitelistMode<a href="#whitelistmode" class="hash-link" aria-label="Direct link to WhitelistMode" title="Direct link to WhitelistMode">​</a></h2><p>The <code>WhitelistMode</code> dictates if the ACL whitelist restricting access to the mint entry point can be updated. There are currently two options:</p><ol><li><code>Unlocked</code>: The ACL whitelist is unlocked and can be updated via the set variables endpoint.</li><li><code>Locked</code>: The ACL whitelist is locked and cannot be updated further.</li></ol><p>If the <code>WhitelistMode</code> is set to <code>Locked</code> an ACL whitelist of entity keys must be provided on installation. This whitelist dictates which entities can mint NFTs in the restricted <code>ACL</code> minting mode. These entities include <code>Accounts</code> and/or <code>Contracts</code>.</p><p>This <code>WhitelistMode</code> is an optional installation parameter and will be set to unlocked if not passed. However, the whitelist mode itself cannot be changed once the contract has been installed. The mode is passed in as a <code>u8</code> value to <code>whitelist_mode</code> runtime argument.</p><table><thead><tr><th>WhitelistMode</th><th>u8</th></tr></thead><tbody><tr><td>Unlocked</td><td>0</td></tr><tr><td>Locked</td><td>1</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="minting">Minting<a href="#minting" class="hash-link" aria-label="Direct link to Minting" title="Direct link to Minting">​</a></h2><p>The minting mode governs the behavior of contract when minting new tokens. The minting modality provides two options:</p><ol><li><code>Installer</code>: This mode restricts the ability to mint new NFT tokens only to the installing account of the NFT contract.</li><li><code>Public</code>: This mode allows any account to mint NFT tokens.</li><li><code>ACL</code>: This mode allows whitelisted accounts or contracts to mint NFT tokens.</li></ol><p>This modality is an optional installation parameter and will default to the <code>Installer</code> mode if not provided. However, this
mode cannot be changed once the contract has been installed. The mode is set by passing a <code>u8</code> value to the <code>minting_mode</code> runtime argument.</p><table><thead><tr><th>MintingMode</th><th>u8</th></tr></thead><tbody><tr><td>Installer</td><td>0</td></tr><tr><td>Public</td><td>1</td></tr><tr><td>ACL</td><td>2</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nftmetadatakind">NFTMetadataKind<a href="#nftmetadatakind" class="hash-link" aria-label="Direct link to NFTMetadataKind" title="Direct link to NFTMetadataKind">​</a></h2><p>This modality dictates the schema for the metadata for NFTs minted by a given instance of an NFT contract. There are four supported modalities:</p><ol><li><code>CEP78</code>: This mode specifies that NFTs minted must have valid metadata conforming to the CEP-78 schema.</li><li><code>NFT721</code>: This mode specifies that NFTs minted must have valid metadata conforming to the NFT-721 metadata schema.</li><li><code>Raw</code>: This mode specifies that metadata validation will not occur and raw strings can be passed to <code>token_metadata</code> runtime argument as part of the call to <code>mint</code> entrypoint.</li><li><code>CustomValidated</code>: This mode specifies that a custom schema provided at the time of install will be used when validating the metadata as part of the call to <code>mint</code> entrypoint.</li></ol><p>During installation, one <code>NFTMetadataKind</code> must be chosen as the base metadata kind for the contract instance. Additional kinds may be included using either the <code>additional_required_metadata</code> or <code>optional_metadata</code> arguments.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cep-78-metadata-example">CEP-78 metadata example<a href="#cep-78-metadata-example" class="hash-link" aria-label="Direct link to CEP-78 metadata example" title="Direct link to CEP-78 metadata example">​</a></h3><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;John Doe&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;token_uri&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;https://www.barfoo.com&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;checksum&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;940bffb3f2bba35f84313aa26da09ece3ad47045c6a1292c2bbd2df4ab1a55fb&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nft-721-metadata-example">NFT-721 metadata example<a href="#nft-721-metadata-example" class="hash-link" aria-label="Direct link to NFT-721 metadata example" title="Direct link to NFT-721 metadata example">​</a></h3><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;John Doe&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;symbol&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;abc&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;token_uri&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;https://www.barfoo.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-validated">Custom Validated<a href="#custom-validated" class="hash-link" aria-label="Direct link to Custom Validated" title="Direct link to Custom Validated">​</a></h3><p>The CEP-78 implementation allows installers of the contract to provide their custom schema at the time of installation.
The schema is passed as a String value to <code>json_schema</code> runtime argument at the time of installation. Once provided, the schema
for a given instance of the contract cannot be changed.</p><p>The custom JSON schema must contain a top-level <code>properties</code> field. An example of a <a href="#example-custom-validated-schema"><code>valid JSON schema</code></a> is provided. In this example, each property has a name, the description of the property itself, and whether the property is required to be present in the metadata.
If the metadata kind is not set to custom validated, then the value passed to the <code>json_schema</code> runtime argument will be ignored.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-custom-validated-schema">Example Custom Validated schema<a href="#example-custom-validated-schema" class="hash-link" aria-label="Direct link to Example Custom Validated schema" title="Direct link to Example Custom Validated schema">​</a></h4><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;properties&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;deity_name&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;deity_name&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;description&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;The name of deity from a particular pantheon.&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;required&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;mythology&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;mythology&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;description&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;The mythology the deity belongs to.&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;required&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-custom-metadata">Example Custom Metadata<a href="#example-custom-metadata" class="hash-link" aria-label="Direct link to Example Custom Metadata" title="Direct link to Example Custom Metadata">​</a></h4><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;deity_name&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Baldur&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;mythology&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Nordic&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><table><thead><tr><th>NFTMetadataKind</th><th>u8</th></tr></thead><tbody><tr><td>CEP78</td><td>0</td></tr><tr><td>NFT721</td><td>1</td></tr><tr><td>Raw</td><td>2</td></tr><tr><td>CustomValidated</td><td>3</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nftidentifiermode">NFTIdentifierMode<a href="#nftidentifiermode" class="hash-link" aria-label="Direct link to NFTIdentifierMode" title="Direct link to NFTIdentifierMode">​</a></h2><p>The identifier mode governs the primary identifier for NFTs minted for a given instance on an installed contract. This modality provides two options:</p><ol><li><code>Ordinal</code>: NFTs minted in this modality are identified by a <code>u64</code> value. This value is determined by the number of NFTs minted by the contract at the time the NFT is minted.</li><li><code>Hash</code>: NFTs minted in this modality are identified by a base16 encoded representation of the blake2b hash of the metadata provided at the time of mint.</li></ol><p>Since the primary identifier in the <code>Hash</code> mode is derived by hashing over the metadata, making it a content-addressed identifier, the metadata for the minted NFT cannot be updated after the mint.</p><p>Attempting to install the contract with the <code>MetadataMutability</code> modality set to <code>Mutable</code> in the <code>Hash</code> identifier mode will raise an error.</p><p>This modality is a required installation parameter and cannot be changed once the contract has been installed.</p><p>It is passed in as a <code>u8</code> value to the <code>identifier_mode</code> runtime argument.</p><table><thead><tr><th>NFTIdentifierMode</th><th>u8</th></tr></thead><tbody><tr><td>Ordinal</td><td>0</td></tr><tr><td>Hash</td><td>1</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metadata-mutability">Metadata Mutability<a href="#metadata-mutability" class="hash-link" aria-label="Direct link to Metadata Mutability" title="Direct link to Metadata Mutability">​</a></h2><p>The metadata mutability mode governs the behavior around updates to a given NFTs metadata. This modality provides two options:</p><ol><li><code>Immutable</code>: Metadata for NFTs minted in this mode cannot be updated once the NFT has been minted.</li><li><code>Mutable</code>: Metadata for NFTs minted in this mode can update the metadata via the <code>set_token_metadata</code> entrypoint.</li></ol><p>The <code>Mutable</code> option cannot be used in conjunction with the <code>Hash</code> modality for the NFT identifier; attempting to install the contract with this configuration raises <code>InvalidMetadataMutability</code> error.
This modality is a required installation parameter and cannot be changed once the contract has been installed.
It is passed in as a <code>u8</code> value to the <code>metadata_mutability</code> runtime argument.</p><table><thead><tr><th>MetadataMutability</th><th>u8</th></tr></thead><tbody><tr><td>Immutable</td><td>0</td></tr><tr><td>Mutable</td><td>1</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="burnmode">BurnMode<a href="#burnmode" class="hash-link" aria-label="Direct link to BurnMode" title="Direct link to BurnMode">​</a></h2><p>The <code>BurnMode</code> modality dictates whether tokens minted by a given instance of an NFT contract can be burnt. This modality
provides two options:</p><ol><li><code>Burnable</code>: Minted tokens can be burnt.</li><li><code>NonBurnable</code>: Minted tokens cannot be burnt.</li></ol><table><thead><tr><th>BurnMode</th><th>u8</th></tr></thead><tbody><tr><td>Burnable</td><td>0</td></tr><tr><td>NonBurnable</td><td>1</td></tr></tbody></table><p>This modality is an optional installation parameter and will default to the <code>Burnable</code> mode if not provided. However, this
mode cannot be changed once the contract has been installed. The mode is set by passing a <code>u8</code> value to the <code>burn_mode</code> runtime argument.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ownerreverselookupmode">OwnerReverseLookupMode<a href="#ownerreverselookupmode" class="hash-link" aria-label="Direct link to OwnerReverseLookupMode" title="Direct link to OwnerReverseLookupMode">​</a></h2><p>The <code>OwnerReverseLookupMode</code> modality is set at install and determines if a given contract instance writes necessary data to allow reverse lookup by owner in addition to by ID.</p><p>This modality provides the following options:</p><ol><li><code>NoLookup</code>: The reporting and receipt functionality is not supported. In this option, the contract instance does not maintain a reverse lookup database of ownership and therefore has more predictable gas costs and greater scaling.</li><li><code>Complete</code>: The reporting and receipt functionality is supported. Token ownership will be tracked by the contract instance using the system described <a href="/resources/tokens/cep78/reverse-lookup/">here</a>.</li><li><code>TransfersOnly</code>: The reporting and receipt functionality is supported like <code>Complete</code>. However, it does not begin tracking until the first transfer. This modality is for use cases where the majority of NFTs are owned by a private minter and only NFT&#x27;s that have been transferred benefit from reverse lookup tracking. Token ownership will also be tracked by the contract instance using the system described <a href="/resources/tokens/cep78/reverse-lookup/">here</a>.</li></ol><p>Additionally, when set to <code>Complete</code>, causes a receipt to be returned by the <code>mint</code> or <code>transfer</code> entrypoints, which the caller can store in their account or contract context for later reference.</p><p>Further, two special entrypoints are enabled in <code>Complete</code> mode. First, <code>register_owner</code> which when called will allocate the necessary tracking record for the imputed entity. This allows isolation of the one time gas cost to do this per owner, which is convenient for accounting purposes. Second, <code>updated_receipts</code>, which allows an owner of one or more NFTs held by the contract instance to attain up to date receipt information for the NFTs they currently own.</p><table><thead><tr><th>OwnerReverseLookupMode</th><th>u8</th></tr></thead><tbody><tr><td>NoLookup</td><td>0</td></tr><tr><td>Complete</td><td>1</td></tr><tr><td>TransfersOnly</td><td>2</td></tr></tbody></table><p>This modality is an optional installation parameter and will default to the <code>NoLookup</code> mode if not provided. The mode is set by passing a <code>u8</code> value to the <code>owner_reverse_lookup_mode</code> runtime argument. This mode cannot be changed once the contract has been installed.</p><p><strong>Note</strong> : if <code>ownership_mode</code> is set to <code>Minter</code> and the <code>minting_mode</code> is set to <code>Installer</code> only, <code>OwnerReverseLookupMode</code> will be set to <code>NoLookup</code>. This is because the minter, by definition, owns all of the tokens forever. Therefore, there is no reason to do a reverse lookup for that owner. This rule applies only to newly installed contract instances.</p><p><strong>Note</strong> : if <code>OwnerReverseLookupMode</code> is set to <code>TransfersOnly</code> then <code>ownership_mode</code> has to be set to <code>Transferable</code> only. This is because other ownership modes do not allow transfer.</p><p>If you are upgrading a contract from CEP-78 version 1.0 to 1.1, <code>OwnerReverseLookupMode</code> will be set to <code>Complete</code>, as this was the standard behavior of CEP-78 1.0. In addition to being set to <code>Complete</code>, existing records will be migrated into the CEP-78 1.1 format, which will impose a one-time gas cost to cover the migration.</p><p>If you have an existing CEP-78 version 1.0 contract instance, and would prefer the newer functionality with no lookup, the only option is to install a separate, new contract instance and mint all of the NFTs anew in that instance and then burn the corresponding NFTs from the old instance. If you do not own all the NFTs held by the old contract instance, you do not have this option.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="namedkeyconventionmode">NamedKeyConventionMode<a href="#namedkeyconventionmode" class="hash-link" aria-label="Direct link to NamedKeyConventionMode" title="Direct link to NamedKeyConventionMode">​</a></h2><p>The <code>NamedKeyConvention</code> modality dictates whether the Wasm passed will attempt to install a version 1.1.1 instance of CEP-78 or attempt to migrate a version 1.0 CEP-78 instance to version 1.1.1.</p><p>This modality provides three options:</p><ol><li><code>DerivedFromCollectionName</code>: This modality will signal the contract to attempt to install a new version 1.1.1 instance of the CEP-78 contract. The contract package hash and the access URef will be saved in the installing account&#x27;s <code>NamedKeys</code> as <code>cep78_contract_package_&lt;collection_name&gt;</code> and <code>cep78_contract_package_access_&lt;collection_name&gt;</code>.</li><li><code>V_1_0_standard</code>: This modality will signal the contract to attempt to upgrade from version 1.0 to version 1.1.1. In this scenario, the contract will retrieve the package hash and the access URef from the <code>NamedKey</code> entries originally created during the 1.0 installation.</li><li><code>V_1_0_custom</code>: This modality will signal the contract to attempt to upgrade from version 1.0 to version 1.1.1. In this scenario, the calling account must provide the <code>NamedKey</code> entries under which the package hash and the access URef are saved. Additionally, this requires the passing of the runtime arguments <code>access_key_name</code> and <code>hash_key_name</code> for the access URef and package hash, respectively. In this modality, these arguments are required and must be passed in.</li></ol><table><thead><tr><th>NamedKeyConvention</th><th>u8</th></tr></thead><tbody><tr><td>DerivedFromCollectionName</td><td>0</td></tr><tr><td>V_1_0_standard</td><td>1</td></tr><tr><td>V_1_0_custom</td><td>2</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="eventsmode">EventsMode<a href="#eventsmode" class="hash-link" aria-label="Direct link to EventsMode" title="Direct link to EventsMode">​</a></h2><p>The <code>EventsMode</code> modality determines how the installed instance of CEP-78 will handle the recording of events that occur from interacting with the contract.</p><p>The modality provides three options:</p><ol><li><code>NoEvents</code>: This modality will signal the contract to not record events at all. This is the default mode.</li><li><code>CEP47</code>: This modality will signal the contract to record events using the CEP47 event schema. Further information can be found <a href="#cep47-mode">below</a>.</li><li><code>CES</code>: This modality will signal the contract to record events using the <a href="#casper-event-standard">Casper Event Standard</a>.</li></ol><table><thead><tr><th>EventsMode</th><th>u8</th></tr></thead><tbody><tr><td>NoEvents</td><td>0</td></tr><tr><td>CEP47</td><td>1</td></tr><tr><td>CES</td><td>2</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="transfer-filter-hook">Transfer Filter Hook<a href="#transfer-filter-hook" class="hash-link" aria-label="Direct link to Transfer Filter Hook" title="Direct link to Transfer Filter Hook">​</a></h3><p>The transfer filter modality, if enabled, specifies a contract package hash pointing to a contract that will be called when the <code>transfer</code> method is invoked on the contract. CEP-78 will call the <code>can_transfer</code>
method on the specified callback contract, which is expected to return a value of <code>TransferFilterContractResult</code>, represented as a u8.</p><ul><li><code>TransferFilterContractResult::DenyTransfer</code> will block the transfer regardless of the outcome of other checks</li><li><code>TransferFilterContractResult::ProceedTransfer</code> will allow the transfer to proceed if other checks also pass</li></ul><p>The transfer filter can be enabled by passing a <code>ARG_TRANSFER_FILTER_CONTRACT</code> argument to the install method, with a value of type <code>Option&lt;Key&gt;</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cep47-mode">CEP47 Mode<a href="#cep47-mode" class="hash-link" aria-label="Direct link to CEP47 Mode" title="Direct link to CEP47 Mode">​</a></h3><p>The CEP47 <code>EventsMode</code> modality mimics the event schema previously used in the CEP47 NFT standard. Events are stored as a <code>BTreeMap</code> within a dictionary (<code>EVENTS</code>) in the contract&#x27;s context. Entries consist of the <code>PREFIX_HASH_KEY_NAME</code>, followed by the <code>EVENT_TYPE</code> and then variable data as listed in the table below. The events can be retrieved directly via their dictionary entry using the JSON-RPC, with more information on this process available <a href="/resources/tokens/cep78/modalities/concepts/dictionaries/">here</a>.</p><table><thead><tr><th>Event name</th><th>Included values and type</th></tr></thead><tbody><tr><td>Mint</td><td><code>recipient (Key)</code>, <code>token_id (String)</code></td></tr><tr><td>Transfer</td><td><code>owner (Key)</code>, <code>operator (Option&lt;Key&gt;)</code>, <code>recipient (Key)</code>, <code>token_id (String)</code></td></tr><tr><td>Burn</td><td><code>owner (Key)</code>, <code>token_id (String)</code></td></tr><tr><td>ApprovalGranted</td><td><code>owner (Key)</code>, <code>spender (Key)</code>, <code>token_id (String)</code></td></tr><tr><td>ApprovalRevoked</td><td><code>owner (Key)</code>, <code>token_id (String)</code></td></tr><tr><td>ApprovalForAll</td><td><code>owner (Key)</code>, <code>operator (Key)</code></td></tr><tr><td>RevokedForAll</td><td><code>owner (Key)</code>, <code>operator (Key)</code></td></tr><tr><td>MetadataUpdate</td><td><code>token_id (String)</code></td></tr><tr><td>Migration</td><td>-</td></tr><tr><td>VariablesSet</td><td>-</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="casper-event-standard">Casper Event Standard<a href="#casper-event-standard" class="hash-link" aria-label="Direct link to Casper Event Standard" title="Direct link to Casper Event Standard">​</a></h3><p><code>CES</code> is an option within the <code>EventsMode</code> modality that determines how changes to tokens issued by the contract instance will be recorded. Any changes are recorded in the <code>__events</code> dictionary and can be observed via a node&#x27;s Server Side Events stream. They may also be viewed by querying the dictionary at any time using the JSON-RPC interface.</p><p>The emitted events are encoded according to the <a href="https://github.com/make-software/casper-event-standard" target="_blank" rel="noopener noreferrer">Casper Event Standard</a>, and the schema is visible to an observer reading the <code>__events_schema</code> contract named key.</p><p>For this CEP-78 reference implementation, the events schema is as follows:</p><table><thead><tr><th>Event name</th><th>Included values and type</th></tr></thead><tbody><tr><td>Mint</td><td><code>recipient (Key)</code>, <code>token_id (String)</code>, <code>data (String)</code></td></tr><tr><td>Transfer</td><td><code>owner (Key)</code>, <code>operator (Option&lt;Key&gt;)</code>, <code>recipient (Key)</code>, <code>token_id (String)</code></td></tr><tr><td>Burn</td><td><code>owner (Key)</code>, <code>token_id (String)</code></td></tr><tr><td>Approval</td><td><code>owner (Key)</code>, <code>spender (Key)</code>, <code>token_id (String)</code></td></tr><tr><td>ApprovalRevoked</td><td><code>owner (Key)</code>, <code>token_id (String)</code></td></tr><tr><td>ApprovalForAll</td><td><code>owner (Key)</code>, <code>operator (Key)</code></td></tr><tr><td>RevokedForAll</td><td><code>owner (Key)</code>, <code>operator (Key)</code></td></tr><tr><td>MetadataUpdated</td><td><code>token_id (String)</code>, <code>data (String)</code></td></tr><tr><td>Migration</td><td>-</td></tr><tr><td>VariablesSet</td><td>-</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="modality-conflicts">Modality Conflicts<a href="#modality-conflicts" class="hash-link" aria-label="Direct link to Modality Conflicts" title="Direct link to Modality Conflicts">​</a></h2><p>The <code>MetadataMutability</code> option set to <code>Mutable</code> cannot be used in conjunction with the <code>NFTIdentifierMode</code> modality set to <code>Hash</code>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/casper-network/docs/tree/dev/source/version-1.5.6/resources/tokens/cep78/modalities.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-07-01T19:56:31.000Z">Jul 1, 2024</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/resources/tokens/cep78/introduction/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Introduction</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/resources/tokens/cep78/using-casper-client/quickstart-guide/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Quick Installation</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ownership" class="table-of-contents__link toc-highlight">Ownership</a></li><li><a href="#nftkind" class="table-of-contents__link toc-highlight">NFTKind</a></li><li><a href="#nftholdermode" class="table-of-contents__link toc-highlight">NFTHolderMode</a></li><li><a href="#whitelistmode" class="table-of-contents__link toc-highlight">WhitelistMode</a></li><li><a href="#minting" class="table-of-contents__link toc-highlight">Minting</a></li><li><a href="#nftmetadatakind" class="table-of-contents__link toc-highlight">NFTMetadataKind</a><ul><li><a href="#cep-78-metadata-example" class="table-of-contents__link toc-highlight">CEP-78 metadata example</a></li><li><a href="#nft-721-metadata-example" class="table-of-contents__link toc-highlight">NFT-721 metadata example</a></li><li><a href="#custom-validated" class="table-of-contents__link toc-highlight">Custom Validated</a><ul><li><a href="#example-custom-validated-schema" class="table-of-contents__link toc-highlight">Example Custom Validated schema</a></li><li><a href="#example-custom-metadata" class="table-of-contents__link toc-highlight">Example Custom Metadata</a></li></ul></li></ul></li><li><a href="#nftidentifiermode" class="table-of-contents__link toc-highlight">NFTIdentifierMode</a></li><li><a href="#metadata-mutability" class="table-of-contents__link toc-highlight">Metadata Mutability</a></li><li><a href="#burnmode" class="table-of-contents__link toc-highlight">BurnMode</a></li><li><a href="#ownerreverselookupmode" class="table-of-contents__link toc-highlight">OwnerReverseLookupMode</a></li><li><a href="#namedkeyconventionmode" class="table-of-contents__link toc-highlight">NamedKeyConventionMode</a></li><li><a href="#eventsmode" class="table-of-contents__link toc-highlight">EventsMode</a><ul><li><a href="#transfer-filter-hook" class="table-of-contents__link toc-highlight">Transfer Filter Hook</a></li><li><a href="#cep47-mode" class="table-of-contents__link toc-highlight">CEP47 Mode</a></li><li><a href="#casper-event-standard" class="table-of-contents__link toc-highlight">Casper Event Standard</a></li></ul></li><li><a href="#modality-conflicts" class="table-of-contents__link toc-highlight">Modality Conflicts</a></li></ul></div></div></div></div></main></div></div><div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright"><div class="footer-inner-container">
    <div class="footer-top">
        <ul class="items">
            <li><a href="https://arxiv.org/pdf/2101.02159.pdf" target="_blank" rel="noopener">White Paper</a></li>
            <li>
                <a href="https://docs.casper.network" target="_blank" rel="noopener">
                    Docs
                </a>
            </li>
            <li><a href="https://devxdao.com/" target="_blank" rel="noopener">Grant Program</a></li>
            <li><a href="https://casper.network/network/casper-association" target="_blank" rel="noopener">Casper Association</a></li>
        </ul>
    </div>
    <div class="footer-bottom">
        <ul class="items left">
            <li>
                <a href="https://casper.network/en/network" target="_blank" rel="noopener">
                    <img class="footer-logo" src="/icon/Casper_Wordmark_White_RGB.png" alt="Casper Logo">
                </a>
            </li>
            <li>© 2023 Casper Association</li>
        </ul>
        <ul class="items right">
            <li class="trademark">
                <a href="https://casper.network/network/trademark-policy" target="_blank" rel="noopener">Trademark Policy and Guidelines</a>
            </li>
        </ul>
    </div>
</div>
</div></div></div></footer></div></div>
<script src="/assets/js/runtime~main.16d56e33.js"></script>
<script src="/assets/js/main.8988f197.js"></script>
</body>
</html>